<%= form_with model: park, local:true do |f| %>
  <div class="form-group">
    <%= f.label :image, class: "mb-0" %><br />
    <%= f.file_field :image, accept: "image/*" %>
  </div>
  <div class="form-group">
    <%= f.label :name, class: "mb-0" %><br />
    <%= f.text_field :name %>
  </div>
  <div class="form-group">
    <%= f.label :introduction, class: "mb-0" %><br />
    <%= f.text_area :introduction %>
  </div>
  <div class="form-group">
    <%= f.label :address, class: "mb-0" %><br />
    <%= f.text_field :address %>
  </div>
  <div class="form-group">
    <%= f.label :tag, class: "mb-0" %><br />
    <%= f.text_field :tag_name %>
  </div>
  <div id="map">
  </div>

  <script>
  let map

  function initMap(){
    geocoder = new google.maps.Geocoder()

    map = new google.maps.Map(document.getElementById('map'), {
      center: {lat: 40.7828, lng:-73.9653},
      zoom: 12,
    });

    marker = new google.maps.Marker({
      position:  {lat: 40.7828, lng:-73.9653},
      map: map
    });
  }
  </script>
  <script src="https://maps.googleapis.com/maps/api/js?key=<%= ENV['GOOGLE_MAP_API_KEY'] %>&callback=initMap" async defer></script>

  <div class="form-group">
    <%= f.submit class: 'btn btn-success' %>
  </div>
<% end %>
